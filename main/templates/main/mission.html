{% extends 'base.html' %} {% load static %} {% block content %}

<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'css/mission.css' %}" />
  </head>
  <body>
    <div class="missionWrapper">
      <div class="missionContainer">
        <div id="nicknameContainer">
          <!-- ì´ë¦„, ë¯¸ì…˜ ë‚´ìš© dbì—ì„œ ë§¤ì¹­ì‹œì¼œì¤˜ì•¼ í•¨ ã…  -> ëœ ë“¯?!íˆíˆ -->
          <p class="nickname">{{lion.name}}</p>
          <p>ë¼ì´ì˜¹ë‹˜,</p>
        </div>
        <div class="subscribe">ë‹¹ì‹ ì˜ ë¯¸ì…˜ì€</div>
        <div id="nicknameContainer">
          <p id="missionContent" class="hidden"></p>
          <p>ì…ë‹ˆë‹¤!</p>
        </div>
        <p>ì•„ìì£ ğŸ’ªğŸ»ğŸ¦</p>
      </div>
      <div class="changeMission">
        <p>
          ë§Œì•½ ë¯¸ì…˜ì„ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´?? <br />
          (ëˆ„ë¥´ë©´ ì¬ë°Œê² ë‹¤..) <br />
          ê·¼ë° í•œ ë²ˆë§Œ ë˜ë‹ˆê¹Œ ì‹ ì¤‘í•´ë¼ ..
        </p>

        <button id="submitBtn" class="subBtn">ë¯¸ì…˜ ë°”ê¾¸ëŸ¬ ê°€ê¸°</button>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var missionContent = document.getElementById("missionContent");
        var text = "{{mission.description}}";
        var index = 0;

        function showText() {
          if (index < text.length) {
            missionContent.classList.remove("hidden");
            missionContent.textContent += text[index++];
            setTimeout(showText, 150);
          }
        }

        showText();

        document
          .getElementById("submitBtn")
          .addEventListener("click", function () {
            var missionChanges = "{{lion.mission_changes}}";
            if (missionChanges >= 1) {
              alert("ìš•ì‹¬ ê·¸ë§Œ ë¶€ë¦¬ë¼ì˜¹");
            } else {
              location.href = "/changeMissionPage";
            }
          });

                  // ì„¸ì…˜ ë©”ì‹œì§€ ì²˜ë¦¬
        "{% if message %}"
        alert("{{ message }}");
        "{% endif %}"
      });
    </script>
  </body>
</html>

{% endblock %}
